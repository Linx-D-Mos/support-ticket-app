## Autogenerated by Scribe. DO NOT MODIFY.

name: 'Gestión de Tickets'
description: ''
endpoints:
  -
    custom: []
    httpMethods:
      - PATCH
    uri: 'api/tickets/{ticket_id}/resolve'
    metadata:
      custom: []
      groupName: 'Gestión de Tickets'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Resolver un ticket.'
      description: |-
        Cambia el estado del ticket a "resuelto" y registra la fecha de resolución.
        Solo usuarios autorizados pueden realizar esta acción.
      authenticated: true
      deprecated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      ticket_id:
        custom: []
        name: ticket_id
        description: 'The ID of the ticket.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      ticket:
        custom: []
        name: ticket
        description: 'ID del ticket.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanUrlParameters:
      ticket_id: 1
      ticket: 1
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
            "data": {
              "id": 1,
              "title": "Mi impresora no funciona",
              "priority": "high",
              "status": "resolved",
              "customer": {
                "id": 5,
                "name": "Juan Pérez"
              },
              "agent": null,
              "last_reply_at": null,
              "resolve_at": "2024-06-01T12:00:00Z",
              "close_at": null
            },
            "message": "¡Ticket resuelto con exito!"
          }
        headers: []
        description: 'Ticket resuelto con éxito'
      -
        custom: []
        status: 403
        content: |-
          {
            "message": "This action is unauthorized."
          }
        headers: []
        description: 'No autorizado'
      -
        custom: []
        status: 404
        content: |-
          {
            "message": "No query results for model [App\\Models\\Ticket]"
          }
        headers: []
        description: 'Ticket no encontrado'
    responseFields:
      id:
        custom: []
        name: id
        description: 'ID del ticket'
        required: false
        example: null
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      title:
        custom: []
        name: title
        description: 'Título del ticket'
        required: false
        example: null
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      priority:
        custom: []
        name: priority
        description: 'Prioridad del ticket'
        required: false
        example: null
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      status:
        custom: []
        name: status
        description: 'Estado del ticket'
        required: false
        example: null
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      resolve_at:
        custom: []
        name: resolve_at
        description: 'Fecha de resolución'
        required: false
        example: null
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
    auth: []
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - PATCH
    uri: 'api/tickets/{ticket_id}/close'
    metadata:
      custom: []
      groupName: 'Gestión de Tickets'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Cerrar un ticket.'
      description: |-
        Cambia el estado del ticket a "cerrado" y registra la fecha de cierre.
        Solo usuarios autorizados pueden realizar esta acción.
      authenticated: true
      deprecated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      ticket_id:
        custom: []
        name: ticket_id
        description: 'The ID of the ticket.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      ticket:
        custom: []
        name: ticket
        description: 'ID del ticket.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanUrlParameters:
      ticket_id: 1
      ticket: 1
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
            "data": {
              "id": 1,
              "title": "Mi impresora no funciona",
              "priority": "high",
              "status": "closed",
              "customer": {
                "id": 5,
                "name": "Juan Pérez"
              },
              "agent": null,
              "last_reply_at": null,
              "resolve_at": "2024-06-01T12:00:00Z",
              "close_at": "2024-06-02T14:30:00Z"
            },
            "message": "¡Ticket cerrado con exito!"
          }
        headers: []
        description: 'Ticket cerrado con éxito'
      -
        custom: []
        status: 403
        content: |-
          {
            "message": "This action is unauthorized."
          }
        headers: []
        description: 'No autorizado'
      -
        custom: []
        status: 404
        content: |-
          {
            "message": "No query results for model [App\\Models\\Ticket]"
          }
        headers: []
        description: 'Ticket no encontrado'
    responseFields:
      id:
        custom: []
        name: id
        description: 'ID del ticket'
        required: false
        example: null
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      title:
        custom: []
        name: title
        description: 'Título del ticket'
        required: false
        example: null
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      priority:
        custom: []
        name: priority
        description: 'Prioridad del ticket'
        required: false
        example: null
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      status:
        custom: []
        name: status
        description: 'Estado del ticket'
        required: false
        example: null
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      close_at:
        custom: []
        name: close_at
        description: 'Fecha de cierre'
        required: false
        example: null
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
    auth: []
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - GET
    uri: api/tickets
    metadata:
      custom: []
      groupName: 'Gestión de Tickets'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Listar Tickets'
      description: |-
        Obtiene una lista paginada de tickets. Permite filtrar por estado, prioridad y búsqueda de texto.
        Los tickets se retornan ordenados por los más recientes primero.
      authenticated: true
      deprecated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters:
      status:
        custom: []
        name: status
        description: 'Filtra por estado del ticket. Valores permitidos: open, in_progress, resolved, closed.'
        required: false
        example: open
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      priority:
        custom: []
        name: priority
        description: 'Filtra por prioridad del ticket. Valores permitidos: low, medium, high, urgent.'
        required: false
        example: high
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      search:
        custom: []
        name: search
        description: 'Busca texto en el título o descripción del ticket.'
        required: false
        example: impresora
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      page:
        custom: []
        name: page
        description: 'Número de página para la paginación.'
        required: false
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanQueryParameters:
      status: open
      priority: high
      search: impresora
      page: 1
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
            "data": [
              {
                "id": 1,
                "title": "Mi impresora no funciona",
                "priority": "high",
                "status": "open",
                "customer": {
                  "id": 5,
                  "name": "Juan Pérez"
                },
                "agent": {
                  "id": 2,
                  "name": "Agente Soporte"
                },
                "last_reply_at": "2024-06-01T10:30:00Z",
                "resolve_at": null,
                "close_at": null
              }
            ],
            "links": {
              "first": "http://example.com/api/tickets?page=1",
              "last": "http://example.com/api/tickets?page=5",
              "prev": null,
              "next": "http://example.com/api/tickets?page=2"
            },
            "meta": {
              "current_page": 1,
              "from": 1,
              "last_page": 5,
              "per_page": 10,
              "to": 10,
              "total": 50
            }
          }
        headers: []
        description: ''
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - POST
    uri: api/tickets
    metadata:
      custom: []
      groupName: 'Gestión de Tickets'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Crear un nuevo ticket.'
      description: 'Devuelve un ticket creado. Recibe los datos esenciales para la creación de un ticket.'
      authenticated: true
      deprecated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      title:
        custom: []
        name: title
        description: 'El título del ticket.'
        required: true
        example: '"Mi impresora no funciona"'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      priority:
        custom: []
        name: priority
        description: 'Prioridad del ticket. Valores permitidos: low, medium, high, urgent.'
        required: true
        example: '"high"'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      labels:
        custom: []
        name: labels
        description: 'Etiquetas asociadas al ticket.'
        required: true
        example:
          - hardware
          - impresora
        type: 'string[]'
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      files:
        custom: []
        name: files
        description: 'optional Archivos adjuntos.'
        required: false
        example: null
        type: 'string[]'
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      'labels.*':
        custom: []
        name: 'labels.*'
        description: 'Nombre de la etiqueta.'
        required: true
        example: '"hardware"'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      'files.*':
        custom: []
        name: 'files.*'
        description: 'optional Archivo adjunto (png, jpeg, jpg, pdf, docx, xlsx, máx 10MB)'
        required: false
        example: null
        type: file
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
    cleanBodyParameters:
      title: '"Mi impresora no funciona"'
      priority: '"high"'
      labels:
        - hardware
        - impresora
      files: null
    fileParameters: []
    responses:
      -
        custom: []
        status: 201
        content: |-
          {
            "data": {
              "id": 1,
              "title": "Mi impresora no funciona",
              "priority": "high",
              "status": "open",
              "customer": {
                "id": 5,
                "name": "Juan Pérez"
              },
              "agent": null,
              "last_reply_at": null,
              "resolve_at": null,
              "close_at": null
            },
            "message": "¡Ticket creado con exito!"
          }
        headers: []
        description: 'Ticket creado con éxito'
      -
        custom: []
        status: 422
        content: |-
          {
            "message": "The given data was invalid.",
            "errors": {
              "title": ["El campo título es obligatorio."],
              "priority": ["La prioridad es obligatoria."],
              "labels": ["Debe proporcionar al menos una etiqueta."]
            }
          }
        headers: []
        description: 'Datos inválidos'
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - PUT
      - PATCH
    uri: 'api/tickets/{id}'
    metadata:
      custom: []
      groupName: 'Gestión de Tickets'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Actualizar un ticket existente.'
      description: 'Permite modificar los datos de un ticket. Solo usuarios autorizados pueden realizar esta acción.'
      authenticated: true
      deprecated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        custom: []
        name: id
        description: 'The ID of the ticket.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      ticket:
        custom: []
        name: ticket
        description: 'ID del ticket.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanUrlParameters:
      id: 1
      ticket: 1
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      status:
        custom: []
        name: status
        description: ''
        required: false
        example: open
        type: string
        enumValues:
          - open
          - 'in progress'
          - pending
          - resolved
          - elevated
          - closed
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      title:
        custom: []
        name: title
        description: 'optional Nuevo título del ticket.'
        required: false
        example: '"Impresora no imprime"'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      priority:
        custom: []
        name: priority
        description: 'optional Nueva prioridad. Valores permitidos: low, medium, high, urgent.'
        required: false
        example: '"medium"'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      labels:
        custom: []
        name: labels
        description: 'optional Etiquetas asociadas al ticket.'
        required: false
        example:
          - hardware
          - impresora
        type: 'string[]'
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      'labels.*':
        custom: []
        name: 'labels.*'
        description: 'optional Nombre de la etiqueta.'
        required: false
        example: '"hardware"'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      files:
        custom: []
        name: files
        description: 'optional Archivos adjuntos.'
        required: false
        example: null
        type: 'string[]'
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      'files.*':
        custom: []
        name: 'files.*'
        description: 'optional Archivo adjunto (png, jpeg, jpg, pdf, docx, xlsx, máx 10MB)'
        required: false
        example: null
        type: file
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
    cleanBodyParameters:
      status: open
      title: '"Impresora no imprime"'
      priority: '"medium"'
      labels:
        - hardware
        - impresora
      files: null
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
            "data": {
              "id": 1,
              "title": "Impresora no imprime",
              "priority": "medium",
              "status": "open",
              "customer": {
                "id": 5,
                "name": "Juan Pérez"
              },
              "agent": null,
              "last_reply_at": null,
              "resolve_at": null,
              "close_at": null
            }
          }
        headers: []
        description: 'Ticket actualizado con éxito'
      -
        custom: []
        status: 403
        content: |-
          {
            "message": "This action is unauthorized."
          }
        headers: []
        description: 'No autorizado'
      -
        custom: []
        status: 404
        content: |-
          {
            "message": "No query results for model [App\\Models\\Ticket]"
          }
        headers: []
        description: 'Ticket no encontrado'
      -
        custom: []
        status: 422
        content: |-
          {
            "message": "The given data was invalid.",
            "errors": {
              "priority": ["La prioridad debe ser: low, medium, high, urgent."]
            }
          }
        headers: []
        description: 'Datos inválidos'
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
